name: Keep Discord Bot Alive

on:
  schedule:
    # 5분마다 실행
    - cron: '*/5 * * * *'
  workflow_dispatch: # 수동 실행 가능

jobs:
  ping:
    runs-on: ubuntu-latest
    
    steps:
    - name: Ping Discord Bot
      run: |
        echo "🏓 Pinging Discord Bot..."
        curl -f -s -o /dev/null https://onsurvey-discord-bot.onrender.com/ping
        echo "✅ Ping successful!"
        
    - name: Ping Health Check
      run: |
        echo "🏥 Checking health..."
        curl -f -s -o /dev/null https://onsurvey-discord-bot.onrender.com/health
        echo "✅ Health check successful!"
